# CS
## 트랜잭션
---
#### 트랜잭션
트랜잭션이란 데이터베이스의 상태를 변화시키기 해서 수행하는 작업의 단위를 뜻함.
데이터베이스의 상태를 변화시킨다는 것은 무얼 의미하는 것일까? 간단하게 말해서 아래의 질의어(SQL)를 이용하여 데이터베이스를 접근 하는 것을 의미함.
- SELECT
- INSERT
- DELETE
- UPDATE

착각하지 말아야 할 것은 작업의 단위는 질의어 한문장이 아니라는 점임.
작업단위는 많은 질의어 명령문들을 사람이 정하는 기준에 따라 정하는 것을 의미함.
게시판을 예로 들어보면 게시판 사용자는 게시글을 작성하고, 올리기 버튼을 누름.
 그 후에 다시 게시판에 돌아왔을때, 게시판은 자신의 글이 포함된 업데이트된 게시판을 보게 됨.
 이러한 상황을 데이터베이스 작업으로 옮기면, 사용자가 올리기 버튼을 눌렀을 시 Insert 문을 사용하여 사용자가 입력한 게시글의 데이터를 옮김. 
 그 후에, 게시판을 구성할 데이터를 다시 Select 하여 최신 정보로 유지함. 
 여기서 작업의 단위는 insert문과 select문 둘 다를 합친 것임. 
 이러한 작업단위를 하나의 트랜잭션이라 함.
 관리자나 개발자가 하나의 트랜잭션 설계를 잘하는 것이 데이터를 다루는 것에 많은 이점이 있음.

#### 트랜잭션의 특징
- 원자성 (Automicity)
  - 트랜잭션이 데이터베이스에 모두 반영되던가, 아니면 전혀 반영되지 않아야 한다는 것
- 일관성 (Consistency)
  - 트랜잭션의 작업 처리 결과가 항상 일관성이 있어야 한다는 것
- 독립성 (Isolation)
  - 둘 이상의 트랜잭션이 동시에 실행되고 있을 경우 어떤 하나의 트랜잭션이라도, 다른 트랜잭션의 연산에 끼어들 수 없다는 것
- 지속성 (Durablity)
  - 트랜잭션이 성공적으로 완료됐을 경우, 결과는 영구적으로 반영되어야 한다는 것

#### 트랜잭션의 Commit, Rollback 연산
- Commit
  - 하나의 트랜잭션이 성공적으로 끝났고, 데이터베이스가 일관성있는 상태에 있을 때, 하나의 트랜잭션이 끝났따라는 것을 알려주기 위해 사용하는 연산.
  - 이 연산을 사용하면 수행했던 트랜잭션이 로그에 저장되며, 후에 Rollback 연산을 수행했었떤 트랜잭션 단위로 하는 것을 도와줌.
- Rollback
  - 하나의 트랜잭션 처리가 비성장적으로 종료되어 트랜잭션의 원자성이 깨진 경우, 트랜잭션을 처음부터 다시 시작하거나, 트랜잭션의 부분적으로만 연산된 결과를 다시 취소시킴.
  - 후에 사용자가 트랜잭션 처리된 단위대로 Rollback을 진행할 수도 있음.