# iOS 공부
## Application Delegate
**AppDelegate가 하는 역할**
1. 앱의 중요 데이터 구조를 초기화
2. 앱의 scene의 환경설정
3. 앱 밖에서 발생한 알림(배터리 부족 경고, 다운로드 완료 알림 등)에 대응
4. 특정한 Scenes, views, view controllers에 한정하지 않고 앱 자체를 타겟하는 이벤트에 대응
5. 애플 푸쉬 알림과 같이 실생시 요구되는 모든 서비스를 등록

**iOS 앱의 상태변화에 따른 AppDelegate 메서드**
- **applicationDidBecomActive(UIApplication)**
  - 앱이 Active상태가 되었을 때 호출되는 메서드
- **applicationWillResignActive(UIApplication)**
  - 앱이 Active 상태를 포기했을 때 호출되는 메서드
- **applicationDidEnterBackground(UIApplication)**
  - 앱이 Background 상태가 됐을 때 호출되는 메서드
- **applicationWillEnterForeground(UIApplication)**
  - 앱이 Foreground 상태가 됐을 때 호출되는 메서드
- **applicationWillTerminate(UIApplication)**
  - 앱이 종료되기 직전에 호출되는 메서드

**메서드는 어떻게 호출될까?**
- **앱 사용 중 홈 화면으로 이동할 때**
  - applicationWillRegisnActive -> applicationDidEnterBackground 순으로 호출
- **홈 화면에서 앱을 다시 켤 때 (Not run 상태가 아닌 Background 상태의 앱을 키는 경우)**
  - applicationWillEnterForeground -> applicationDidBecomActive순으로 호출
  - 만약 아예 종료된 상태의 앱을 실행할 땐 applicationDidBecomeActive만 호출
- **앱 사용 중 알람 센터로 이동할 때**
  - applicationWillResignActive -> applicationDidBecomeActive -> applicationWillResignActive 순으로 호출되는데 결국 In-Active 상태가 되긴 하지만 불필요하게 두 번 호출되는 부분이 존재
- **앱 사용 중 제어 센터로 이동할 때**
  - applicationWillResignActive -> applicationDidBecomeActive 순으로 호출
- **앱을 종료할 때**
  - 앱 전환기로 이동한 뒤 앱을 종료하게 되면 applicationWillResignActive -> applicationDidEnterBackground -> applicationWillTerminate 순으로 호출

요약
- **applicationDidBecomeActive(UIApplication)**
  - 앱이 Active 상태가 되었음을 알림
- **applicationWillResignActive(UIApplication)**
  - 앱이 Inactive 상태가 될 것임을 알림
- **applicationDidEnterBackground(UIApplication)**
  - 앱이 background 상태가 되었음을 알림
- **applicationWillEnterForeground(UIApplication)**
  - 앱이 foreground 상태로 진입하려고 함을 알림
- **applicationWillTerminate(UIApplication)**
  - 앱이 종료되려고 함을 알림